;DFKEA





				IDENTIFICATION
				--------------

	PRODUCT CODE:		AH-F545E-DD

	DIAGNOSTIC CODE:	DFKEA

	PRODUCT NAME:		DFKEAE0 KL10 PAGING HARDWARE DIAGNOSTIC

	VERSION:		0.5

	DATE RELEASED:		SEPTEMBER 1981

	MAINTAINED BY:		36-BIT DIAGNOSTIC ENGINEERING

	AUTHOR:			JOHN R. KIRCHOFF

		        COPYRIGHT (C) 1975, 1981

	        DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASS.

	THIS SOFTWARE IS FURNISHED UNDER A LICENSE FOR  USE  ONLY  ON  A
	SINGLE COMPUTER SYSTEM AND MAY BE COPIED ONLY WITH THE INCLUSION
	OF THE ABOVE COPYRIGHT NOTICE.   THIS  SOFTWARE,  OR  ANY  OTHER
	COPIES  THEREOF, MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE
	TO ANY OTHER PERSON EXCEPT FOR USE ON SUCH SYSTEM AND TO ONE WHO
	AGREES  TO  THESE  LICENSE TERMS.  TITLE TO AND OWNERSHIP OF THE
	SOFTWARE  SHALL  AT   ALL  TIMES  REMAIN  IN  DIGITAL  EQUIPMENT
	CORPORATION.

	THE INFORMATION IN THIS DOCUMENT IS SUBJECT  TO  CHANGE  WITHOUT
	NOTICE  AND  SHOULD  NOT BE CONSTRUED AS A COMMITMENT BY DIGITAL
	EQUIPMENT CORPORATION.

	DIGITAL EQUIPMENT CORPORATION ASSUMES NO  RESPONSIBILITY FOR THE
	USE  OR  RELIABILITY  OF  ITS SOFTWARE IN EQUIPMENT WHICH IS NOT
	SUPPLIED BY DIGITAL EQUIPMENT CORPORATION.
							MAINDEC-10-DFKEA
							PAGE 2


			TABLE OF CONTENTS
			-----------------

1.0	ABSTRACT

2.0	REQUIREMENTS

2.1	EQUIPMENT

2.2	STORAGE

2.3	PRELIMINARY PROGRAMS

3.0	PROGRAM PROCEDURES

3.1	LOADING PROCEDURE

3.2	STARTING PROCEDURE

3.3	OPERATING PROCEDURE

4.0	DATA SWITCH FUNCTIONS

5.0	ERRORS

6.0	ITERATION COUNTER

7.0	CYCLE TIME

8.0	OPERATIONAL VARIATIONS

9.0	MISCELLANEOUS

10.0	LISTING
							MAINDEC-10-DFKEA
							PAGE 3

1.0	ABSTRACT

	THIS PDP-10 KL10 DIAGNOSTIC TESTS THE PAGING HARDWARE OF
	THE KL10 CENTRAL PROCESSOR. THE DIAGNOSTIC CONSISTS OF THE
	FOLLOWING TESTS:

	A.  EXEC BASE REGISTER
	B.  USER BASE REGISTER
	E.  MAP INSTRUCTION
	F.  PAGE FAIL TRAPPING
	G.  PAGING MEMORY
	H.  EXEC-PER-PROCESS MAPPING
	I.  PAGING MEMORY RELIABILITY
	J.  PAGED DATA READ
	K.  PAGED DATA WRITE
	L.  WRITE PROTECT
	M.  PAGED BLT
	N.  BASE REGISTER RELOCATION
	    1.  MUUO
	    2.  PAGE FAIL
	    3.  EXEC-PER-PROCESS
	    4.  LUUO
	    5.  TRAPPING
	    6.  INTERRUPTS
	    7.  EPMP PAGING
	O.  INSTRUCTION PAGE FAIL
	P.  MAXIMUM  ADDRESS PAGING
	Q.  PAGING AND ADDRESSING BLT
	R.  MAXIMUM BASE REGISTER RELOCATION
	    1.  MUUO
	    2.  PAGE FAIL
	    3.  EXEC-PER-PROCESS
	    4.  LUUO
	    5.  TRAPPING
	    6.  INTERRUPTS
	    7.  EPMP PAGING

	THIS DIAGNOSTIC OPERATES ONLY IN EXEC MODE.
							MAINDEC-10-DFKEA
							PAGE 4

2.0	REQUIREMENTS

2.1	EQUIPMENT

	A PDP-10 KL10 WITH 32K OF MEMORY
	48K OF MEMORY IS REQUIRED FOR THE MAXIMUM TESTING
	CONSOLE TELETYPE
	DECTAPE (OPTIONAL)
	LINE PRINTER (OPTIONAL)

2.2	STORAGE

	THE PROGRAM USES ALL OF THE FIRST 32K OF MEMORY
	THE PROGRAM USES 48K OF MEMORY FOR MAXIMUM TESTING.

2.3	PRELIMINARY PROGRAMS

	ALL PRECEDING CENTRAL PROCESSOR DIAGNOSTICS.

3.0	PROGRAM PROCEDURES

3.1	LOADING PROCEDURES

	THIS DIAGNOSTIC REQUIRES THAT THE DECSYSTEM10 SUBROUTINE
	PROGRAM BE RESIDENT IN THE PDP-10.
	LOAD VIA CONSOLE PROCESSOR OR WITH "DIAMON".

3.2	STARTING PROCEDURE

	A.  SELECT OPERATIONAL CONSOLE DATA SWITCH SETTINGS (REFER
	    TO 4.0 DATA SWITCH FUNCTIONS)

	B.  STAND-ALONE STARTING ADDRESS IS 30000.

	C.  SPECIAL FEATURE RESTART IS 30004(8).  THIS CLEARS THE PASS
	    COUNTER SO THE MAXIMUM ADDRESSING SETUP QUESTION MAY BE REPEATED.
							MAINDEC-10-DFKEA
							PAGE 5

3.3	OPERATING PROCEDURE

	A.  TO THOROUGHLY TEST ALL HARDWARE, ALL TEST CONTROL DATA
	    SWITCHES SHOULD BE SET TO 0.

	B.  WHEN DEBUGGING HARDWARE, SET SWITCHES TO 0.  ALLOW THE
	    TELETYPE TO PRINT THE ERROR MESSAGES.  THIS ALLOWS THE
	    PROGRAM TO RUN A COMPLETE PASS AND THEN THE ERROR MESSAGES
	    MAY BE CORRELATED TO QUICKLY DIAGNOSE THE FAILURE.  IF A
	    HARDWARE PROBLEM IS SUCH THAT THE ERROR MESSAGES, AFTER THE
	    FIRST ONE, HAVE NO MEANING (FIRST ERROR CAUSES ALL FOLLOWING
	    TESTS TO FAIL) SET THE LOOP ON ERROR SWITCH AND RESTART THE
	    TEST FROM THE BEGINNING.  THE FIRST FAILURE WILL THEN CAUSE
	    THE PROGRAM TO ENTER A LOOP SUITABLE FOR SCOPING.

	    THE ERROR MESSAGES USED IN CONJUNCTION WITH THE LISTING
	    AND SCOPING IF NECESSARY SHOULD ALLOW THE FAILING
	    COMPONENT TO BE ISOLATED AND REPLACED AND/OR REPAIRED.

	C.  ERROR INFORMATION MAY BE OBTAINED QUICKLY BY PRINTING
	    ERRORS ON THE LINE PRINTER.

	D.  THE PROGRAM ALLOWS FOR MAXIMUM ADDRESS AND RELOCATION TESTING
	    BY REQUESTING THAT A MEMORY BE CONFIGURED TO ACT AS THE
	    MAXIMUM ADDRESSES, I.E. 4080 TO 4096K.  THIS IS DONE
	    THROUGH PROGRAM TYPEOUT AND THE OPERATOR TAKING THE
	    APPROPRIATE ACTIONS.

	TO ALLOW SELECTION OF THE MAXIMUM TESTING THE "OPRSEL" SWITCH
	MUST BE SET TO A ONE.

	THIS SECTION MAY BE INHIBITED (IF NO AVAILABLE MEMORY, ETC.)
	BY RESPONDING APPROPRIATLY TO THE PROGRAM REQUEST OR BY SETTING
	THE 'INHMAX' DATA SWITCH.

	THE PROGRAM REQUEST MAY BE INHIBITED BY SETTING THE 'INHMXQ'
	DATA SWITCH.  THE PROGRAM WILL THEN ASSUME THAT THE MEMORIES ARE
	PROPERLY SETUP.
							MAINDEC-10-DFKEA.TXT
							PAGE 6

4.0	DATA SWITCH FUNCTIONS

	SWITCH		STATE	FUNCTION
	------		-----	--------

	0    ABORT	0	NORMAL OPERATION
			1	ABORT AT END OF PASS

	1    RSTART		NOT USED

	2    TOTALS		NOT USED

	3    NOPNT	0	NORMAL TYPEOUT
			1	INHIBIT ALL PRINT/TYPEOUT
				(EXCEPT FORCED)

	4    PNTLPT	0	NORMAL OUTPUT TO TTY
			1	PRINT ALL DATA ON LPT
				(LOGICAL DEVICE, USER MODE)

	5    DING	0	NO FUNCTION
			1	RING TTY BELL ON ERROR

	6    LOOPER	0	PROCEED TO NEXT TEST
			1	ENTER SCOPE LOOP ON TEST ERROR

	7    ERSTOP	0	NO FUNCTION
			1	HALT ON TEST ERROR

	8    PALERS	0	PRINT ONLY FIRST ERROR WHEN LOOPING
			1	PRINT ALL ERRORS, EVEN IF SAME ERROR

	9    RELIAB	0	QUICK VERIFY OPERATION
			1	RELIABILITY MODE OPERATION

	10   TXTINH	0	PRINT FULL ERROR MESSAGES.
			1	INHIBIT COMMENT PORTION OF 
				ERROR MESSAGES.

	14   OPRSEL	0	RUN DEFAULT (NO MAXIMUM TESTING)
			1	ALLOW MAXIMUM RELOCATION SELECTION

	34   INHMXQ	0	ALLOW RECONFIGURATION QUESTION
			1	INHIBIT RECONFIGURATION QUESTION

	35   INHMAX	0	ALLOW MAXIMUM RELOCATION TESTING
			1	INHIBIT MAXIMUM RELOCATION TESTING
							MAINDEC-10-DFKEA
							PAGE 7

5.0	ERRORS

	ERRORS ARE PRINTED ON THE TTY OR LINE PRINTER.  THE ERROR
	PRINTOUT CONTAINS THE TEST TITLE, TEST PASS COUNT, PC OF THE
	FAILURE, SUBTEST TITLE, SUBTEST FUNCTION, CORRECT WORD, ACTUAL
	RESULTS, DISCREPANCY WORD, AND A DIAGNOSTIC COMMENT.

	THE FOLLOWING IS AN EXAMPLE ERROR MESSAGE:

	DECSYSTEM KL10 PAGING HARDWARE DIAGNOSTIC (DFKEA)
	TEST PASS COUNT = #
	ERROR IN (SUBTEST TITLE) - (SUBTEST FUNCTION)
	CORRECT: XXXXXX XXXXXX
	ACTUAL:  YYYYYY YYYYYY
	DISCREP: ZZZZZZ ZZZZZZ
	(DIAGNOSTIC COMMENT)

	THE SUBTEST TITLE, SUBTEST FUNCTION, AND DIAGNOSTIC COMMENT
	PORTION OF THE ERROR TYPEOUT MAY BE INHIBITED BY SETTING THE
	'TXTINH' SWITCH.  THIS ALLOWS FOR SHORTER PRINTOUTS ON
	REPETITIVE FAILURES.

	THE TEST TITLE IS ONLY PRINTED WHEN STARTING THE PROGRAM OR ON THE
	FIRST FAILURE IF IT HAS NOT BEEN PRINTED YET.

	THE TEST PASS COUNT IS ONLY PRINTED ON ERROR WHICH OCCUR ON PASSES
	AFTER THE FIRST PASS.

	IF AN AUDIO INDICATION OF A CONTINUING ERROR IS DESIRED THE
	'DING' SWITCH MAY BE SET.							MAINDEC-10-DFKEA
							PAGE 8

6.0	ITERATION COUNTER

	THE ITERATION COUNT OF THE PROGRAM IS PRINTED ON THE CONSOLE
	TTY.

7.0	CYCLE TIME

	THE PROGRAM CYCLE TIME IS A UNDER A MINUTE AND IS THEREFORE
	SUITABLE FOR MARGINING, VIBRATION TESTS, ETC.

8.0	OPERATIONAL VARIATIONS

	THE PROGRAM IS USABLE WITH THE DIAGNOSTIC MONITOR TO PROVIDE
	RELIABILITY TESTS, ACCEPTANCE TESTS, AND/OR TO PROVIDE A
	QUICK METHOD OF ISOLATION OF A FAULT TO A PARTICULAR AREA
	OF THE PROCESSOR.

9.0	MISCELLANEOUS

	THIS DIAGNOSTIC DOES NOT USE THE "INHPAG" SWITCH AND DOES NOT
	USE THE CACHE.

10.0	LISTING
   